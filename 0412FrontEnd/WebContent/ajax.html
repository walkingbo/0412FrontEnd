<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ajax-비동기 자바 스크립트 xml</title>
</head>
<body>

</body>
<script>
	//ajax 요청 객체 생성
	var request
	//일반적인 브라우저에서의 ajax 요청 객체
	if (window.XMLHttpRequest) {
		request = new XMLHttpRequest()
	}else {
		//IE 하위 버전에서의 ajax 객체 생성 
		request = new ActiveXObject("Microsoft.XMLHTTP")
	}
	//연결요청
	request.open('GET','data.json')
	//연결해서 데이터를 요청
	request.send()	
	//요청 상태가 변경될 때 호출될 콜백 함수 등록
	request.onreadystatechange = function(){
		//정상적으로 응답을 하면
		if(request.readyState == 4){
			if(request.status >= 200 && request.status < 300){
				//읽어온 문자열을 콘솔에 출력
				//console.log(request.responseText)
				
				//읽어온 데이터를 파싱 수행 - 배열
				var data = JSON.parse(request.responseText)
				//배열 순회
				for(var idx in data){
					console.log(data[idx].num + ":" + data[idx].name)
				}
				
			}
		}
	}
	
</script>
</html>